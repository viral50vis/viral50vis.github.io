/*! viral-50 v0.0.1 | (c) 2020 Erik BÃ¥venstrand | MIT License | https://github.com/ErikBavenstrand/DH2321-Spotify-Project */
var data_attrs,data_songs,worldJSON,worldCountryZoomJSON,countryCCJSON,dataWeek="2020-01-23",currentAttribute="danceability",filesLoaded=!1,isInDetailView=!1,selectedCountries=[],maxColor={red:30,green:215,blue:96},minColor={red:30,green:30,blue:100};Promise.all([d3.json("data/week_mean_normalized.json"),d3.json("data/world_topology.json"),d3.json("data/world_country_zoom.json"),d3.json("data/countries.json"),d3.json("data/week_countries_songs_normalized.json")]).then((function(t){filesLoaded=!0,data_attrs=t[0],worldJSON=t[1],worldCountryZoomJSON=t[2],countryCCJSON=t[3],data_songs=t[4],generateWorldMap(t[1]),updateWorldMap(data_attrs[dataWeek],data_attrs.minimum,data_attrs.maximum),loadAttrList(),loadCountryList(data_attrs[dataWeek],countryCCJSON),loadTimeSlider(),d3.select(".Loading__wrapper").transition().style("opacity",0).duration(800).on("end",(function(){d3.select(this).remove()}))}));